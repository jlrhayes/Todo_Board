<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/Task.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/Task.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState } from "react";
import "./Task.css";
import DeleteIcon from "@material-ui/icons/Delete";
import EditIcon from "@material-ui/icons/Edit";
import EditTask from "./EditTask";

/**
 * The task component returns two buttons - the edit and delete buttons.
 * It also allows the user to make HTTP requests.
 * @param {object} deleteTask &lt;description>
 * @param {object} task &lt;description>
 * @param {object} onEdit &lt;description>
 * @returns {element} An element
 */

const Task = ({ task, deleteTask, onEdit }) => {
    //need to find tasks under column id and add to task list
    const [user, setUser] = useState([]);
    const [edit, setShowEdit] = useState(false);

    React.useEffect(() => {
        getUser();
    }, []);

    const getUser = () => {
        fetch(`http://localhost:4000/users/${task.userId}`)
            .then((res) => res.json())
            .then((data) => setUser(data));
    };

    const editTask = async (editedTask) => {
        const requestOptions = {
            method: "PATCH",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(editedTask),
        };
        await fetch(
            `http://localhost:4000/tasks/${task.id}`,
            requestOptions
        );
        onEdit();
        setShowEdit(false);
    };

    return (
        &lt;div className="task">
            {edit ? (
                &lt;EditTask onAdd={editTask} task={task} />
            ) : (
                &lt;TaskDetails task={task} user={user} />
            )}
            &lt;div className="flex flex-row justify-end">
                &lt;button className="delete-button submit" onClick={deleteTask}>
                    &lt;DeleteIcon fontSize="small" />
                &lt;/button>
                &lt;button className="delete-button submit" onClick={() => setShowEdit(!edit)}>
                    &lt;EditIcon fontSize="small" />
                &lt;/button>
            &lt;/div>
        &lt;/div>
    );
};

const TaskDetails = ({ task, user }) => {
    return (
        &lt;div className="flex flex-col">
            &lt;h3 className="font-bold text-lg">{task.title}&lt;/h3>
            &lt;h4>{task.description}&lt;/h4>
            &lt;div className="mx-0 flex flex-row items-center">
                &lt;img className="w-8" src={user.avatarUrl} />
                {user.name}
            &lt;/div>
        &lt;/div>
    );
};

export default Task;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AddTask.html">AddTask</a></li><li><a href="Login.html">Login</a></li><li><a href="Register.html">Register</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AddBoard">AddBoard</a></li><li><a href="global.html#AddColumn">AddColumn</a></li><li><a href="global.html#App">App</a></li><li><a href="global.html#Board">Board</a></li><li><a href="global.html#BoardButton">BoardButton</a></li><li><a href="global.html#Button">Button</a></li><li><a href="global.html#Column">Column</a></li><li><a href="global.html#Dashboard">Dashboard</a></li><li><a href="global.html#ModalComponent">ModalComponent</a></li><li><a href="global.html#NavBar">NavBar</a></li><li><a href="global.html#Task">Task</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Oct 15 2021 10:02:08 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
